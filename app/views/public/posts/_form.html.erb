<%= form_with model: post do |f| %>
  <h4 class="mt-3 text-center"><i class="fas fa-camera"></i> 投稿内容</h4>
  <hr></hr>

  <!--投稿の内容入力欄-->
  <div class="actions mt-4">
    <i class="far fa-image"></i> <%= f.label :image, '画像' %>
    <% if current_page?(new_post_path)  %>
      （投稿画像を選択してください）
    <% end %>

    <!--画像のプレビュー表示-->
    <div class="post_image_wrapper">
      <%= f.label :image do %>
        <% if current_page?(new_post_path) %>
          <%= image_tag "no_image.png", class: 'img-fluid post_image phot' %>
        <% else %>
          <%= image_tag post.get_image, class: "img-fluid post_image phot" %>
        <% end %>
        <%= f.file_field :image, class: 'uploader', style: 'display:none' %>
      <% end %>
    </div>

    <!--画像プレビュー表示用 js-->
    <%= render "public/posts/script/previw" %>

    <!--投稿タイトル・内容入力-->
    <i class="fas fa-tag"></i> <%= f.label :title, 'タイトル(最大140文字)', class: "mt-3" %> <span class="small text-danger">*必須</span>
    <%= f.text_field :title, class: "form-control title-input", placeholder: "タイトルを入力", maxlength: 140 %>
    <div class="text-secondary text-right"><span class="title-count"></span>/140</div>
    <i class="far fa-file-alt"></i> <%= f.label :content, '本文(最大500文字)' %> <span class="small text-danger">*必須</span>
    <%= f.text_area :content, class: "form-control content-input", rows: 4, placeholder: "本文を入力", maxlength: 500 %>
    <div class="text-secondary text-right"><span class="content-count"></span>/500</div>
    <%= f.submit submit, class: "mt-4 btn btn-outline-success btn-block" %>


    <!--タイトルと内容の入力文字数表示用-->
    <%= render "public/posts/script/form_count" %>
  </div>
<% end %>
